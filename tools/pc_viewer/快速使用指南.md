# ESP32 WiFi摄像头Web显示程序 - 快速使用指南

## 🚀 快速开始

### 方法1：使用批处理文件（推荐）

1. 双击运行 `start_web_viewer.bat`
2. 程序会自动检查并安装依赖
3. 启动成功后，在浏览器中打开显示的网址

### 方法2：手动启动

```bash
# 1. 安装依赖（如果还没安装）
pip install flask

# 2. 启动程序
python web_camera_viewer_simple.py

# 3. 在浏览器中打开 http://localhost:5000
```

## 📋 文件说明

- `web_camera_viewer_simple.py` - 简化版Web显示程序（推荐）
- `web_camera_viewer.py` - 完整版Web显示程序（需要OpenCV）
- `viewer.py` - 原始的桌面版显示程序
- `start_web_viewer.bat` - Windows启动脚本
- `requirements_simple.txt` - 简化版依赖列表
- `requirements.txt` - 完整版依赖列表

## 🔧 程序特性

### 简化版 (推荐)
- ✅ 仅依赖Flask，安装简单
- ✅ 现代化Web界面
- ✅ 响应式设计，支持移动端
- ✅ 自动重连功能
- ✅ 全屏显示支持
- ✅ 连接状态监控

### 完整版
- ✅ 包含简化版所有功能
- ✅ 支持图像处理和分析
- ✅ 更好的错误处理
- ❌ 需要安装OpenCV和NumPy

## 🌐 访问方式

程序启动后会显示访问地址：
- 本机访问：`http://localhost:5000`
- 局域网访问：`http://你的IP地址:5000`

## ⚙️ ESP32配置

确保ESP32代码中的配置正确：

```c
// 在ESP32代码中设置正确的服务器IP和端口
#define SERVER_IP   "192.168.1.100"  // 运行此程序的PC的IP地址
#define SERVER_PORT 8000             // 与程序的--port参数一致
```

## 🔍 故障排除

### 常见问题

1. **Flask未安装**
   ```bash
   pip install flask
   ```

2. **端口被占用**
   ```bash
   python web_camera_viewer_simple.py --web-port 5001
   ```

3. **ESP32无法连接**
   - 检查IP地址是否正确
   - 确认在同一WiFi网络
   - 检查防火墙设置

4. **画面不显示**
   - 点击"刷新画面"按钮
   - 检查ESP32是否正常工作
   - 查看控制台错误信息

## 📱 移动端使用

程序支持移动端访问：
1. 确保手机与PC在同一WiFi网络
2. 在手机浏览器中输入：`http://PC的IP地址:5000`
3. 点击图像可进入全屏模式

## 🎯 功能亮点

- **零配置启动**：双击即可运行
- **实时画面**：低延迟MJPEG流
- **自适应界面**：支持各种屏幕尺寸
- **状态监控**：实时显示连接状态
- **快速操作**：刷新、全屏等便捷功能

---

💡 **提示**: 建议使用简化版程序，它更轻量、更稳定，满足大多数使用需求。